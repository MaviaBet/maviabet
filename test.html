<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conectar WalletConnect a MetaMask en la Red Base</title>
    <script src="https://unpkg.com/@walletconnect/web3-provider@1.7.0/dist/umd/index.min.js"></script>
    <script src="https://unpkg.com/ethers/dist/ethers.min.js"></script>
</head>
<body>
<h1>Conectar WalletConnect a MetaMask en la Red Base</h1>

<button onclick="connectWallet()">Conectar con MetaMask v√≠a WalletConnect</button>

<script>
    async function connectWallet() {
        // Crear un nuevo proveedor de WalletConnect
        const provider = new WalletConnectProvider.default({
            rpc: {
                8453: "https://mainnet.base.org/rpc" // Chain ID para Base
            },
            qrcode: false, // Desactivar QR code
            relays: [
                {
                    protocol: "wss",
                    url: "wss://relay.walletconnect.com" // Servidor de relay
                }
            ]
        });

        // Conectar al proveedor
        await provider.enable();

        // Crear un nuevo signer con ethers.js
        const ethersProvider = new ethers.providers.Web3Provider(provider);
        const signer = ethersProvider.getSigner();

        const accounts = await signer.getAddress();
        console.log("Conectado con la cuenta:", accounts);
    }
</script>
</body>
</html>
